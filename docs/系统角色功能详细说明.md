# 体育知识智能题库平台 - 系统角色功能详细说明

## 📋 文档概述

本文档详细描述了体育知识智能题库平台中4种主要用户角色的功能权限和职责范围，为系统使用者和开发者提供完整的功能参考。

**文档版本**: v1.0  
**更新时间**: 2024年12月  
**系统版本**: 当前最新版本  

---

## 🔑 超级管理员 (Super Admin)

### 核心权限
- 拥有系统最高权限，可访问所有功能模块
- 负责整个平台的架构管理和全局配置
- 唯一可以管理权限系统和机构的角色

### 主要功能

#### 1. 系统管理
- ✅ **权限管理系统**：用户角色分配、权限细粒度控制、权限审计
- ✅ **系统配置**：全局系统参数设置、功能模块开关
- ✅ **数据备份恢复**：系统数据备份与恢复操作
- ✅ **操作日志查看**：查看所有用户的操作日志和系统审计

#### 2. 机构管理
- ✅ **机构CRUD**：创建、查看、更新、删除教育机构
- ✅ **机构配置**：设置机构用户上限、功能权限
- ✅ **机构统计**：查看各机构使用数据和统计分析
- ✅ **批量操作**：批量管理多个机构

#### 3. 全平台用户管理
- ✅ **用户管理**：管理所有机构的用户账户
- ✅ **角色分配**：分配各级管理员权限
- ✅ **账户审核**：审核新注册的管理员账户
- ✅ **密码重置**：重置任意用户密码

#### 4. 全局数据统计
- ✅ **平台统计**：整个平台的使用数据分析
- ✅ **性能监控**：系统性能和资源使用监控
- ✅ **用户行为分析**：全平台用户行为统计

#### 5. 独享功能
- ✅ **权限管理页面**：`/admin/permissions` - 权限和角色管理
- ✅ **机构管理页面**：`/admin/institutions` - 全平台机构管理
- ✅ **系统配置**：全局系统参数调整
- ✅ **数据备份恢复**：系统级数据管理

---

## 🏫 学校管理员 (Institution Admin / Admin)

### 核心权限
- 管理本机构内的所有用户和数据
- 负责机构级别的配置和统计
- 拥有教师的所有功能权限

### 主要功能

#### 1. 机构内用户管理
- ✅ **教师管理**：创建、管理本机构教师账户
- ✅ **学生管理**：管理本机构学生账户和信息
- ✅ **用户权限**：分配机构内用户权限和角色
- ✅ **批量导入**：批量导入学生和教师数据
- ✅ **用户统计**：查看机构内用户使用情况

#### 2. 机构数据统计
- ✅ **学习数据统计**：查看本机构用户学习数据和答题正确率
- ✅ **答题正确率分析**：分析本机构学生答题情况
- ✅ **使用情况报告**：生成机构使用情况报告
- ✅ **进度监控**：监控机构内学生学习进度
- ✅ **成绩分析**：机构内学生成绩统计和对比

#### 3. 机构专属题库
- ✅ **专属题库管理**：创建和管理机构内部题库
- ✅ **校内考试题目**：管理校内考试专用题目
- ✅ **题目审核**：审核本机构用户提交的题目
- ✅ **内容定制**：定制符合机构需求的学习内容
- ✅ **题库统计**：机构题库使用情况统计

#### 4. 机构配置管理
- ✅ **机构设置**：配置机构基本信息和参数
- ✅ **功能开关**：控制机构内可用功能模块
- ✅ **通知管理**：发送机构内通知和公告
- ✅ **系统配置**：机构级别的系统参数设置

#### 5. 反馈处理
- ✅ **反馈管理**：处理机构内用户反馈和建议
- ✅ **争议处理**：处理题目争议和用户投诉
- ✅ **质量控制**：维护机构内容质量标准

#### 6. 专属功能页面
- ✅ **机构管理页面**：`/admin/institution` - 机构详细管理
- ✅ **反馈管理页面**：`/admin/feedback` - 反馈和争议处理
- ✅ **机构统计页面**：机构数据分析和报告

---

## 👨‍🏫 教师 (Teacher)

### 核心权限
- 拥有学生的所有功能权限
- 负责教学管理和学生指导
- 可创建和管理教学内容

### 主要功能

#### 1. 班级管理
- ✅ **班级创建**：创建和管理自己的班级
- ✅ **学生管理**：管理班级内学生信息和学习状态
- ✅ **班级统计**：查看班级整体学习数据和进度
- ✅ **学习进度监控**：实时监控学生学习进度和表现
- ✅ **学生分组**：对班级学生进行分组管理

#### 2. 考试管理
- ✅ **考试发布**：创建和发布各类考试（模拟考试、正式考试、练习测试）
- ✅ **自动组卷**：5种智能组卷策略
  - 平衡分配：难度均衡分配
  - 分类均衡：按知识分类均衡
  - 难度集中：特定难度集中
  - 薄弱针对：针对学生薄弱环节
  - 完全随机：随机选题
- ✅ **考试监控**：实时监控考试进行状态和学生参与情况
- ✅ **成绩分析**：分析考试结果、学生表现和班级整体情况
- ✅ **一键发布**：快速发布考试给指定班级或学生
- ✅ **考试通知**：自动通知相关学生参加考试

#### 3. 题库管理
- ✅ **题目创建**：创建各种类型的题目（单选、多选、判断、填空、案例分析）
- ✅ **题目编辑**：修改和完善已有题目内容
- ✅ **AI生成题目**：使用AI智能生成题目功能
- ✅ **批量导入**：通过Excel等格式批量导入题目数据
- ✅ **题目审核**：审核学生提交的题目建议和反馈
- ✅ **题目分类**：对题目进行分类和标签管理
- ✅ **题目统计**：查看题目使用情况和效果分析

#### 4. 学习资源管理
- ✅ **资源上传**：上传学习资料、图片、视频等多媒体内容
- ✅ **知识库内容管理**：管理知识点和学习路径
- ✅ **资源分类**：对学习资源进行分类整理
- ✅ **资源共享**：设置资源的共享权限和访问范围

#### 5. 学生指导
- ✅ **个性化推荐**：为学生推荐合适的学习内容和练习题目
- ✅ **学习分析**：分析学生学习薄弱环节和进步情况
- ✅ **进度跟踪**：跟踪学生学习进度和学习行为
- ✅ **学习建议**：提供个性化学习建议和改进方案
- ✅ **答疑辅导**：回答学生学习问题和疑问

#### 6. 通知管理
- ✅ **通知发送**：向学生发送学习提醒和重要通知
- ✅ **作业布置**：布置练习作业和学习任务
- ✅ **截止日期管理**：设置和管理作业截止时间
- ✅ **批量通知**：批量发送通知给班级或指定学生

#### 7. 专属功能页面
- ✅ **考试发布页面**：`/teacher-exam-publish` - 五步式考试发布流程
- ✅ **考试监控页面**：`/exam-monitor` - 实时考试监控面板
- ✅ **班级管理页面**：`/class-management` - 班级和学生管理
- ✅ **学生进度页面**：`/student-progress` - 学生学习分析
- ✅ **题库管理页面**：`/question-bank` - 题目创建和管理

---

## 🎓 学生 (Student)

### 核心权限
- 系统的基础用户，专注于学习功能
- 无管理权限，仅可使用学习相关功能
- 可参与社区互动和内容反馈

### 主要功能

#### 1. 智能练习系统
- ✅ **多种练习模式**：
  - **随机练习**：从题库中随机选择题目，全面覆盖知识点
  - **专项练习**：针对特定体育项目或知识类型进行练习
  - **错题重练**：复习以往答错的题目，巩固薄弱环节
  - **收藏练习**：练习已收藏的重点题目和难点题目
- ✅ **5种题型支持**：单选题、多选题、判断题、填空题、案例分析题
- ✅ **智能特性**：
  - **难度自适应**：根据答题情况智能调整题目难度
  - **实时反馈**：答题后立即显示正确答案和详细解析
  - **进度追踪**：实时记录练习进度和正确率变化
  - **时间统计**：准确记录每道题的用时和总学习时长

#### 2. 模拟考试系统
- ✅ **考试参与**：参加教师发布的各类考试
- ✅ **自主模拟考试**：自主进行模拟考试练习
- ✅ **考试类型**：
  - **模拟考试**：仿真正式考试环境
  - **竞赛练习**：体育知识竞赛模式
  - **能力评估**：综合能力测试
  - **专项测试**：特定知识点测试
- ✅ **考试配置**：自定义时间限制、题目数量、及格分数
- ✅ **成绩管理**：
  - **详细成绩单**：包含各项指标的综合评分
  - **排名统计**：与同级别学生的成绩对比
  - **历史记录**：完整的考试历史追踪
  - **成绩导出**：支持PDF格式成绩单导出

#### 3. 个性化学习
- ✅ **AI智能推荐**：基于学习历史和能力画像的智能题目推荐
- ✅ **个性化学习路径**：系统推荐适合的学习路径和学习计划
- ✅ **知识点推荐**：针对薄弱环节的知识点推荐
- ✅ **学习建议**：AI生成的个性化学习建议和改进方案
- ✅ **适应性学习**：根据学习表现动态调整学习内容

#### 4. 学习分析
- ✅ **能力画像系统**：六维能力雷达图展示
  - **体育知识**：基础理论掌握程度 (0-100分)
  - **规则理解**：对各项目规则的理解 (0-100分)
  - **技术技能**：技术动作认知水平 (0-100分)
  - **历史知识**：体育历史文化了解 (0-100分)
  - **裁判能力**：执裁判断能力 (0-100分)
  - **安全意识**：运动安全知识掌握 (0-100分)
- ✅ **进度追踪**：
  - **学习时长统计**：每日、每周、每月学习时长
  - **答题数据分析**：答题数量、正确率趋势
  - **知识点掌握度**：各知识点的掌握情况热力图
  - **学习连续性**：连续学习天数和学习习惯分析
- ✅ **趋势分析**：
  - **进步曲线**：学习进步轨迹和能力发展趋势
  - **能力提升分析**：各项能力的提升情况
  - **对比分析**：与历史成绩和同级别学生对比
- ✅ **薄弱环节识别**：
  - **错误分类统计**：按知识点分类统计错误情况
  - **知识点缺陷分析**：识别掌握不足的知识点
  - **个性化改进建议**：针对薄弱环节的改进建议

#### 5. 知识库浏览
- ✅ **知识库访问**：浏览系统化的体育知识内容
- ✅ **知识点学习**：学习具体的知识点内容和相关资料
- ✅ **学习路径**：按照推荐路径进行系统化学习
- ✅ **资源下载**：下载学习资料、参考材料和多媒体内容
- ✅ **知识图谱**：查看知识点之间的关系和结构
- ✅ **学习记录**：记录知识点学习情况和理解程度

#### 6. 收藏管理
- ✅ **题目收藏**：收藏重点题目、难点题目和易错题目
- ✅ **分类管理**：对收藏内容进行自定义分类整理
- ✅ **批量操作**：批量管理收藏的内容（添加、删除、移动）
- ✅ **收藏分析**：分析收藏题目的分布和掌握情况
- ✅ **智能推荐**：基于收藏内容推荐相关题目

#### 7. 成就系统
- ✅ **成就获得**：通过学习行为获取各类成就徽章
- ✅ **成就类别**：15个预设成就类别，50+种成就徽章
  - 学习坚持类、答题准确类、知识掌握类
  - 考试表现类、社区参与类等
- ✅ **积分奖励**：学习行为获得积分奖励和等级提升
- ✅ **排行榜**：查看各类学习排行榜和排名情况
- ✅ **学习里程碑**：记录重要的学习节点和成就时刻
- ✅ **激励机制**：完善的激励体系促进持续学习

#### 8. 社区互动
- ✅ **讨论参与**：参与学习话题讨论和知识分享
- ✅ **问答互助**：提问学习问题和回答其他学生疑问
- ✅ **内容分享**：分享学习心得、经验和学习资源
- ✅ **点赞评论**：对优质内容进行点赞和评论互动
- ✅ **反馈提交**：提交题目纠错建议和系统改进意见

#### 9. 个人中心
- ✅ **个人信息管理**：维护个人基本信息和学习偏好
- ✅ **学习历史**：查看完整的学习记录和活动轨迹
- ✅ **通知消息**：接收系统通知、教师通知和重要提醒
- ✅ **设置偏好**：
  - **通知设置**：自定义通知类型和接收方式
  - **难度偏好**：设置练习难度偏好（简单/中等/困难/自适应）
  - **运动偏好**：设置感兴趣的体育项目类型
- ✅ **数据导出**：导出个人学习数据和成绩报告

#### 10. 覆盖范围
- ✅ **体育项目**：足球、篮球、排球、乒乓球、羽毛球、网球、田径、游泳、体操、武术、健身等
- ✅ **知识类型**：
  - 规则理解、技术动作、战术分析
  - 历史发展、安全知识、器材装备、训练方法

---

## 📊 权限级别总结

| 角色 | 权限范围 | 主要职责 | 功能页面数量 | 独享功能 |
|------|---------|----------|-------------|----------|
| **超级管理员** | 全平台 | 系统架构管理、机构管理、全局配置 | 全部页面 | 权限管理、机构管理、系统配置 |
| **学校管理员** | 机构级别 | 机构用户管理、数据统计、内容审核 | 管理后台页面 | 机构专属题库、反馈处理 |
| **教师** | 班级级别 | 教学管理、学生指导、内容创建 | 教学管理页面 | 考试发布、班级管理、学生监控 |
| **学生** | 个人级别 | 学习练习、知识获取、自我提升 | 学习功能页面 | 个性化学习、成就系统 |

## 🔒 权限控制机制

### API权限示例
```typescript
// 超级管理员专用
router.delete('/institutions/:id', authenticate, authorize('super_admin'), deleteInstitution);

// 管理员及以上
router.get('/users', authenticate, authorize('admin', 'super_admin'), getUsers);

// 教师及以上
router.get('/progress/students', authenticate, authorize('teacher', 'admin', 'super_admin'), getStudentProgress);

// 学生及以上（所有用户）
router.get('/questions', authenticate, authorize('student', 'teacher', 'admin', 'super_admin'), getQuestions);
```

### 前端路由保护
```typescript
// 受保护的路由组件
<ProtectedRoute roles={['admin', 'super_admin']}>
  <AdminPanel />
</ProtectedRoute>

<ProtectedRoute roles={['teacher', 'admin', 'super_admin']}>
  <ClassManagement />
</ProtectedRoute>
```

## 🚀 系统特色

### 多层级权限管理
- **系统预设角色**：4种核心角色，权限清晰分离
- **动态权限组**：支持自定义角色创建和权限分配
- **模块化权限**：按功能模块细粒度控制权限
- **权限继承**：高级角色自动继承低级角色权限

### 智能化功能
- **AI推荐系统**：个性化学习内容推荐
- **智能组卷**：多策略自动组卷算法
- **自适应学习**：根据用户表现动态调整难度
- **智能分析**：多维度学习数据分析

### 用户体验优化
- **现代化界面**：响应式设计，支持多设备访问
- **实时反馈**：操作后立即显示结果和进度
- **批量操作**：支持多选和批量处理功能
- **智能提示**：合理的默认值和操作引导

---

## 📝 使用说明

1. **首次使用**：系统管理员需要先创建超级管理员账户
2. **机构设置**：超级管理员创建教育机构并分配机构管理员
3. **用户管理**：机构管理员创建教师和学生账户
4. **内容创建**：教师创建题目、考试和学习资源
5. **学习使用**：学生使用学习功能进行知识学习和能力提升

## 🔧 技术实现

### 后端技术
- **Node.js + Express + TypeScript**：类型安全的API开发
- **MongoDB**：文档数据库存储用户和学习数据
- **JWT认证**：安全的用户身份验证
- **角色中间件**：细粒度权限控制

### 前端技术
- **React + TypeScript**：类型安全的组件开发
- **Ant Design**：企业级UI组件库
- **Redux Toolkit**：状态管理
- **响应式设计**：适配多种设备屏幕

---

**文档维护**: 此文档将随系统功能更新而持续维护，确保信息的准确性和完整性。 